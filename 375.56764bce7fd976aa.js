"use strict";(self.webpackChunkngdemo=self.webpackChunkngdemo||[]).push([[375],{8375:(L,h,r)=>{r.r(h),r.d(h,{ProductsModule:()=>l});var a=r(6895),f=r(8250),t=r(8256),P=r(4004),v=r(529);class i{constructor(e){this.http=e}getProducts(){return this.http.get("https://dummyjson.com/products?limit=10",{}).pipe((0,P.U)(e=>e?.products))}getProduct(e){return this.http.get(`https://dummyjson.com/products/${e}`,{})}}i.\u0275fac=function(e){return new(e||i)(t.LFG(v.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"});class s{}s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-product-title"]],ngContentSelectors:["*"],decls:2,vars:0,consts:[["appHighlight","",1,"mb-2","text-2xl","font-bold","tracking-tight","text-gray-900","dark:text-white"]],template:function(e,o){1&e&&(t.F$t(),t.TgZ(0,"h5",0),t.Hsn(1),t.qZA())},changeDetection:0});class g{constructor(e,o){this.el=e,this.zone=o,this.delay=100}createTooltipPopup(e,o){let c=document.createElement("div");c.innerHTML=`${this.appFetchProduct.description.toString()}`,c.setAttribute("class","tooltip-container"),c.style.top=o.toString()+"px",c.style.left=e.toString()+"px",c.style.fontSize="1rem",c.style.maxWidth="300px",document.body.appendChild(c),this.myPopup=c}handleMouseEnterEvent(){this.zone.runOutsideAngular(()=>{this.timer=setTimeout(()=>{let e=this.el.nativeElement.getBoundingClientRect().left+this.el.nativeElement.offsetWidth/2,o=this.el.nativeElement.getBoundingClientRect().top+this.el.nativeElement.offsetHeight+6;this.createTooltipPopup(e,o)},this.delay)})}handleMouseLeaveEvent(){this.zone.runOutsideAngular(()=>{this.timer&&clearTimeout(this.timer),this.myPopup&&this.myPopup?.remove()})}ngOnDestroy(){this.timer&&clearTimeout(this.timer),this.myPopup&&this.myPopup?.remove()}}g.\u0275fac=function(e){return new(e||g)(t.Y36(t.SBq),t.Y36(t.R0b))},g.\u0275dir=t.lG2({type:g,selectors:[["","appFetchProduct",""]],hostBindings:function(e,o){1&e&&t.NdJ("mouseenter",function(){return o.handleMouseEnterEvent()})("mouseleave",function(){return o.handleMouseLeaveEvent()})},inputs:{appFetchProduct:"appFetchProduct"}});const x=[[["h5"]]];class u{ngAfterContentInit(){console.log("[ngAfterContentInit] productHeading",this.productHeading)}ngAfterContentChecked(){console.log("[AfterContentChecked] productHeading",this.productHeading)}}function T(n,e){if(1&n&&(t.TgZ(0,"li")(1,"app-product",2)(2,"app-product-title"),t._uU(3),t.qZA()()()),2&n){const o=e.$implicit;t.xp6(1),t.Q6J("product",o),t.xp6(2),t.hij(" ",o.title," ")}}u.\u0275fac=function(e){return new(e||u)},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-product"]],contentQueries:function(e,o,c){if(1&e&&t.Suo(c,s,5),2&e){let y;t.iGM(y=t.CRH())&&(o.productHeading=y.first)}},inputs:{product:"product"},ngContentSelectors:["h5"],decls:11,vars:8,consts:[[1,"max-w-sm","h-full","bg-white","border","border-gray-200","rounded-lg","shadow","dark:bg-gray-800","dark:border-gray-700",3,"id"],[1,"cursor-pointer"],[1,"rounded-t-lg",3,"src","alt"],[1,"flex","flex-col","justify-between","items-start","p-5"],[1,"mb-2","text-lg","font-bold","tracking-tight","text-gray-900","dark:text-white"],[1,"mb-3","font-normal","line-clamp-2","text-gray-700","dark:text-gray-400",3,"appFetchProduct"]],template:function(e,o){1&e&&(t.F$t(x),t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"img",2),t.qZA(),t.TgZ(3,"div",3)(4,"a",1),t.Hsn(5),t.qZA(),t.TgZ(6,"h6",4),t._uU(7),t.ALo(8,"currency"),t.qZA(),t.TgZ(9,"p",5),t._uU(10),t.qZA()()()),2&e&&(t.Q6J("id",o.product.id),t.xp6(2),t.Q6J("src",o.product.thumbnail,t.LSH)("alt",o.product.title),t.xp6(5),t.hij(" ",t.lcZ(8,6,o.product.price)," "),t.xp6(2),t.Q6J("appFetchProduct",o.product),t.xp6(1),t.hij(" ",o.product.description," "))},dependencies:[g,a.H9],changeDetection:0});class p{constructor(){this.products=[]}trackById(e,o){return o.id}ngAfterViewInit(){const e=this.productQueryList.toArray();console.log("[ngAfterViewInit]"),console.log("productList",e)}ngAfterViewChecked(){const e=this.productQueryList.toArray();console.log("[ngAfterViewChecked]"),console.log("productList",e)}}p.\u0275fac=function(e){return new(e||p)},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-product-list"]],viewQuery:function(e,o){if(1&e&&t.Gf(u,5),2&e){let c;t.iGM(c=t.CRH())&&(o.productQueryList=c)}},inputs:{products:"products"},decls:2,vars:2,consts:[[1,"grid","grid-cols-1","gap-4","md:grid-cols-2","xl:grid-cols-3"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"h-full",3,"product"]],template:function(e,o){1&e&&(t.TgZ(0,"ul",0),t.YNc(1,T,4,2,"li",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",o.products)("ngForTrackBy",o.trackById))},dependencies:[a.sg,u,s],changeDetection:0});const A=["heading"];function Z(n,e){if(1&n&&(t.ynx(0),t._UZ(1,"app-product-list",4),t.BQk()),2&n){const o=t.oxw().ngIf;t.xp6(1),t.Q6J("products",o)}}function _(n,e){if(1&n&&(t.ynx(0),t.YNc(1,Z,2,1,"ng-container",3),t.BQk()),2&n){const o=e.ngIf;t.xp6(1),t.Q6J("ngIf",o.length)}}class m{constructor(){this.productService=(0,t.f3M)(i),this.products$=this.productService.getProducts()}}m.\u0275fac=function(e){return new(e||m)},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-product-page"]],viewQuery:function(e,o){if(1&e&&(t.Gf(A,5),t.Gf(p,5)),2&e){let c;t.iGM(c=t.CRH())&&(o.headingRef=c.first),t.iGM(c=t.CRH())&&(o.productList=c.first)}},decls:6,vars:3,consts:[[1,"text-4xl","font-bold"],["heading",""],[1,"my-4","py-4"],[4,"ngIf"],[1,"h-full",3,"products"]],template:function(e,o){1&e&&(t.TgZ(0,"h1",0,1),t._uU(2,"Product List"),t.qZA(),t.TgZ(3,"div",2),t.YNc(4,_,2,1,"ng-container",3),t.ALo(5,"async"),t.qZA()),2&e&&(t.xp6(4),t.Q6J("ngIf",t.lcZ(5,1,o.products$)))},dependencies:[a.O5,p,a.Ov]});const H=[{path:"",component:m}];class d{}d.\u0275fac=function(e){return new(e||d)},d.\u0275mod=t.oAB({type:d}),d.\u0275inj=t.cJS({imports:[f.Bz.forChild(H),f.Bz]});class l{}l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[a.ez,d]})}}]);